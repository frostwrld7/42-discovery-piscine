<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
</head>
<body>
    <div id="div" style="background-color: red; width: 200px; height: 200px; border-radius: 50%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
<script>
    const div = $( '#div' )
    const divWidth = $( '#div' ).css('width')
    const divHeight = $( '#div' ).css('height')
    let currentDivWidth = parseInt(divWidth.split('px')[0]);
    let currentDivHeight = parseInt(divHeight.split('px')[0]);
    const colors = ['red', 'green', 'blue']
    let currentIndex = 0
    let oldColor = [];

    const changeColor = () => {
        switch(currentIndex) {
            case 0:
            currentIndex++
            break;
            case 1:
            currentIndex++
            break;
            case 2:
            currentIndex = 0
            break;
        }
    }

    div.click(function () {
        currentDivWidth >= 420 ? currentDivWidth = 200 : currentDivWidth += 10;
        currentDivHeight >= 420 ? currentDivHeight = 200 : currentDivHeight += 10;
        $( '#div' ).css('width', `${currentDivWidth}px`)
        $( '#div' ).css('height', `${currentDivHeight}px`)
        changeColor()
        const currentColor = colors[currentIndex]
        oldColor.push($( '#div' ).css('background-color'))
        $( '#div' ).css('background-color', currentColor)
    })
    
    div.mouseleave(function () {
        currentDivWidth > 200 ? currentDivWidth -= 5 : currentDivWidth = 200
        currentDivHeight > 200 ? currentDivHeight -= 5 : currentDivHeight = 200
        $( '#div' ).css('width', `${currentDivWidth}px`)
        $( '#div' ).css('height', `${currentDivHeight}px`)
        $( '#div' ).css('background-color', oldColor[oldColor.length - 1])
        if (oldColor.length === 0) return
        oldColor.length-=1
    })
</script>
</body>
</html>